<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∑–∞–Ω—è—Ç–∏–µ</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/booking.css">
  
  <style>
    :root {
      --bg-color: #0f0f10;
      --text-color: #fff;
      --card-bg: rgba(255,255,255,.04);
      --border-color: rgba(255,255,255,.08);
      --accent-color: #3b82f6;
      --success-color: #22c55e;
      --warning-color: #f59e0b;
      --font-size-sm: 13px;
      --font-size-md: 14px;
      --radius: 12px;
      --gap: 10px;
    }

    html, body {
      background: var(--bg-color);
      color: var(--text-color);
      margin: 0;
      padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial;
      font-size: var(--font-size-md);
    }

    .container {
      max-width: 880px;
      margin: 0 auto;
      padding: 8px 10px 20px;
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--gap);
      margin: 4px 0 20px;
    }

    .header h1 {
      font-size: 16px;
      margin: 0;
      font-weight: 700;
      display: flex;
      gap: 6px;
      align-items: center;
    }

    .emoji {
      font-size: 16px;
    }

    .back-btn {
      background: none;
      border: none;
      color: var(--accent-color);
      cursor: pointer;
      padding: 0.5rem 0;
      font-size: 14px;
    }

    .back-btn:hover {
      text-decoration: underline;
    }

    .booking-cards {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin: 20px 0;
    }

    .booking-card {
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: var(--radius);
      padding: 20px;
      transition: all 0.3s ease;
      cursor: pointer;
      text-decoration: none;
      color: var(--text-color);
      display: block;
      position: relative;
      overflow: hidden;
    }

    .booking-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .booking-card.student::before {
      background: var(--accent-color);
    }

    .booking-card.teacher::before {
      background: var(--success-color);
    }

    .booking-card.developer::before {
      background: var(--warning-color);
    }

    .booking-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      text-decoration: none;
      color: var(--text-color);
    }

    .booking-card:hover::before {
      opacity: 1;
    }

    .booking-card.student:hover {
      border-color: var(--accent-color);
      background: rgba(59, 130, 246, 0.05);
    }

    .booking-card.teacher:hover {
      border-color: var(--success-color);
      background: rgba(34, 197, 94, 0.05);
    }

    .booking-card.developer:hover {
      border-color: var(--warning-color);
      background: rgba(245, 158, 11, 0.05);
    }

    .card-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    .card-icon {
      font-size: 28px;
      flex-shrink: 0;
    }

    .card-title {
      font-size: 16px;
      font-weight: 600;
      margin: 0;
      line-height: 1.3;
    }

    .card-content {
      margin: 12px 0 16px 0;
      line-height: 1.5;
      opacity: 0.9;
    }

    .card-actions {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .card-action {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-color);
      padding: 8px 12px;
      border-radius: 8px;
      font-size: var(--font-size-sm);
      font-weight: 500;
      text-decoration: none;
      transition: all 0.2s ease;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .card-action.primary {
      background: var(--accent-color);
      border-color: var(--accent-color);
    }

    .card-action.success {
      background: var(--success-color);
      border-color: var(--success-color);
    }

    .card-action.warning {
      background: var(--warning-color);
      border-color: var(--warning-color);
    }

    .card-action:hover {
      opacity: 0.9;
      transform: translateY(-1px);
      text-decoration: none;
      color: var(--text-color);
    }

    .card-action .emoji {
      font-size: 14px;
    }

    .subtitle {
      font-size: var(--font-size-sm);
      opacity: 0.7;
      margin-top: 8px;
    }

    /* –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π */
    .welcome-info {
      background: var(--card-bg);
      border-radius: var(--radius);
      padding: 16px;
      margin-bottom: 20px;
      border: 1px solid var(--border-color);
      text-align: center;
    }

    .welcome-info h2 {
      margin: 0 0 8px 0;
      color: var(--accent-color);
      font-size: 16px;
    }

    .welcome-info p {
      margin: 0;
      opacity: 0.8;
      font-size: var(--font-size-sm);
    }

    .next-session {
      margin-top: 12px;
      padding: 8px;
      background: var(--success-color);
      color: white;
      border-radius: 8px;
      font-size: var(--font-size-sm);
    }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 768px) {
      .container {
        padding: 4px 8px 16px;
      }

      .booking-card {
        padding: 16px;
      }

      .card-title {
        font-size: 15px;
      }

      .card-content {
        font-size: var(--font-size-sm);
      }

      .card-actions {
        flex-direction: column;
      }

      .card-action {
        justify-content: center;
        padding: 10px 16px;
      }
    }

    @media (max-width: 480px) {
      .header {
        margin-bottom: 16px;
      }

      .header h1 {
        font-size: 15px;
      }

      .booking-card {
        padding: 14px;
      }

      .card-header {
        gap: 10px;
      }

      .card-icon {
        font-size: 24px;
      }

      .card-title {
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <button class="back-btn" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
      <h1><span class="emoji">üìÖ</span>–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h1>
      <div></div>
    </div>

    <div class="welcome-info" id="welcomeInfo" style="display:none;"></div>

    <div class="booking-cards">
      <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ -->
      <div class="booking-card student" onclick="openStudentBooking()">
        <div class="card-header">
          <div class="card-icon">üéì</div>
          <h3 class="card-title">–ò–∑—É—á–∞—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –∏–ª–∏ —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π —Å –•–∞–Ω–Ω–æ–π</h3>
        </div>
        <div class="card-content">
          –•–æ—á–µ—à—å —Å–≤–æ–±–æ–¥–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç—å –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –∏–ª–∏ —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–æ–º? –ó–∞–±—Ä–æ–Ω–∏—Ä—É–π –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ —Å –•–∞–Ω–Ω–æ–π –∏–ª–∏ –Ω–∞–ø–∏—à–∏ –µ–π –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏.
        </div>
        <div class="card-actions">
          <a href="#" class="card-action primary" onclick="event.stopPropagation(); openCalendarBooking()">
            <span class="emoji">üìÖ</span>
            –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∑–∞–Ω—è—Ç–∏–µ
          </a>
          <a href="https://t.me/croissanechkaa" target="_blank" class="card-action" onclick="event.stopPropagation()">
            <span class="emoji">üí¨</span>
            –ù–∞–ø–∏—Å–∞—Ç—å –•–∞–Ω–Ω–µ
          </a>
        </div>
        <div class="subtitle">
          –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è ‚Ä¢ –í—Å–µ —É—Ä–æ–≤–Ω–∏ ‚Ä¢ –ê–Ω–≥–ª–∏–π—Å–∫–∏–π –∏ —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π
        </div>
      </div>

      <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –¥–ª—è —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤ -->
      <div class="booking-card teacher" onclick="openTeacherBooking()">
        <div class="card-header">
          <div class="card-icon">üë©‚Äçüè´</div>
          <h3 class="card-title">–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–Ω—è—Ç–∏—è –¥–ª—è —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤</h3>
        </div>
        <div class="card-content">
          –¢—ã —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä –∏ —Ö–æ—á–µ—à—å —É–ª—É—á—à–∏—Ç—å –º–µ—Ç–æ–¥–∏–∫—É –æ–±—É—á–µ–Ω–∏—è? –ó–∞–ø–∏—à–∏—Å—å –Ω–∞ –º–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–Ω—è—Ç–∏—è –∫ –•–∞–Ω–Ω–µ. –£ –Ω–µ—ë —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç CELTA Grade A –∏ –æ–ø—ã—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π.
        </div>
        <div class="card-actions">
          <a href="#" class="card-action success" onclick="event.stopPropagation(); openTeacherCalendar()">
            <span class="emoji">üéØ</span>
            –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é
          </a>
          <a href="https://t.me/croissanechkaa" target="_blank" class="card-action" onclick="event.stopPropagation()">
            <span class="emoji">üìù</span>
            –û–±—Å—É–¥–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É
          </a>
        </div>
        <div class="subtitle">
          CELTA Grade A ‚Ä¢ –ú–µ—Ç–æ–¥–∏–∫–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞–Ω–∏—è ‚Ä¢ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç
        </div>
      </div>

      <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –¥–ª—è —Ç—å—é—Ç–æ—Ä–æ–≤/—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ -->
      <div class="booking-card developer" onclick="openDeveloperContact()">
        <div class="card-header">
          <div class="card-icon">üíª</div>
          <h3 class="card-title">–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–ª—è —Ç—å—é—Ç–æ—Ä–æ–≤</h3>
        </div>
        <div class="card-content">
          –¢—ã —Ç—å—é—Ç–æ—Ä, –∫–æ—Ç–æ—Ä–æ–º—É —Ö–æ—á–µ—Ç—Å—è –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä—É—Ç–∏–Ω—É –∏ —É–¥–µ–ª—è—Ç—å –±–æ–ª—å—à–µ –≤–Ω–∏–º–∞–Ω–∏—è —è–∑—ã–∫—É? –°–≤—è–∂–∏—Å—å —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–≤–æ–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–æ–º–æ—â–Ω–∏–∫–∞.
        </div>
        <div class="card-actions">
          <a href="https://t.me/naumenko" target="_blank" class="card-action warning" onclick="event.stopPropagation()">
            <span class="emoji">üöÄ</span>
            –°–≤—è–∑–∞—Ç—å—Å—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏
          </a>
          <a href="https://t.me/croissanechkaa" target="_blank" class="card-action" onclick="event.stopPropagation()">
            <span class="emoji">üí°</span>
            –£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ
          </a>
        </div>
        <div class="subtitle">
          AI-–ø–æ–º–æ—â–Ω–∏–∫–∏ ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è ‚Ä¢ Telegram –±–æ—Ç—ã ‚Ä¢ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
        </div>
      </div>
    </div>
  </div>

  <script>
    const CALENDAR_BOOKING_URL = 'https://calendar.app.google/SQGJj626MUyQ6DYL6';
    const REDIRECT_KEY = 'booking_redirect_ts';
    const REDIRECT_TTL_MS = 15 * 60 * 1000; // 15 –º–∏–Ω—É—Ç

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', async () => {
      console.log('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è...');
      
      // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram WebApp
      if (window.Telegram?.WebApp) {
        console.log('üì± Telegram WebApp –æ–±–Ω–∞—Ä—É–∂–µ–Ω');
        window.Telegram.WebApp.ready();
        window.Telegram.WebApp.expand();
        
        // –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        const tgUser = window.Telegram.WebApp.initDataUnsafe?.user;
        if (tgUser?.id) {
          await personalizeWelcome(tgUser);
        }
      }
      
      console.log('‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
    });

    // –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
    async function personalizeWelcome(tgUser) {
      try {
        const userResponse = await fetch('/api/user-role', {
          headers: { 'x-telegram-id': tgUser.id.toString() }
        });
        
        if (userResponse.ok) {
          const user = await userResponse.json();
          const welcomeInfo = document.getElementById('welcomeInfo');
          
          let welcomeContent = `
            <h2>üëã –ü—Ä–∏–≤–µ—Ç, ${tgUser.first_name || user.name || '–¥–æ—Ä–æ–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}!</h2>
          `;
          
          if (user.role === 'admin') {
            welcomeContent += `<p>–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∑–∞–Ω—è—Ç–∏–µ –¥–ª—è –ª—é–±–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞ –∏–ª–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º.</p>`;
          } else if (user.role === 'student') {
            welcomeContent += `<p>–í—ã–±–µ—Ä–∏—Ç–µ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –∑–∞–Ω—è—Ç–∏—è –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –•–∞–Ω–Ω–æ–π –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏.</p>`;
            
            if (user.next_session?.date) {
              welcomeContent += `
                <div class="next-session">
                  üìÖ –í–∞—à–µ —Å–ª–µ–¥—É—é—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ: ${user.next_session.date}
                </div>
              `;
            }
          } else if (user.role === 'tutor') {
            welcomeContent += `<p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∏–ª–∏ –æ–±—Å—É–¥–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é.</p>`;
          } else {
            welcomeContent += `<p>–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞ —Å –•–∞–Ω–Ω–æ–π.</p>`;
          }
          
          welcomeInfo.innerHTML = welcomeContent;
          welcomeInfo.style.display = 'block';
        }
      } catch (error) {
        console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ:', error);
      }
    }

    // –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
    function openStudentBooking() {
      console.log('üéì –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ —Å—Ç—É–¥–µ–Ω—Ç–∞');
      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É
      openCalendarBooking();
    }

    function openTeacherBooking() {
      console.log('üë©‚Äçüè´ –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞');
      openTeacherCalendar();
    }

    function openDeveloperContact() {
      console.log('üíª –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞');
      openLink('https://t.me/naumenko');
    }

    // –§—É–Ω–∫—Ü–∏–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Å—ã–ª–æ–∫
    function openCalendarBooking() {
      console.log('üìÖ –û—Ç–∫—Ä—ã—Ç–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è');
      openLink(CALENDAR_BOOKING_URL);
      sessionStorage.setItem(REDIRECT_KEY, Date.now().toString());
    }

    function openTeacherCalendar() {
      console.log('üéØ –û—Ç–∫—Ä—ã—Ç–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –¥–ª—è —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤');
      // –ü–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ—Ç –∂–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—å, –≤ –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π
      openLink(CALENDAR_BOOKING_URL);
    }

    function openLink(url) {
      if (window.Telegram?.WebApp?.openLink) {
        window.Telegram.WebApp.openLink(url);
      } else {
        window.open(url, '_blank');
      }
    }

    // –ù–∞–≤–∏–≥–∞—Ü–∏—è
    function goBack() {
      if (window.history?.length > 1) {
        window.history.back();
      } else {
        // Fallback –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –Ω–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏
        window.location.href = 'index.html';
      }
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—É–±—Ä–∞–Ω–∞, —Ç–∞–∫ –∫–∞–∫ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏)
    function shouldAutoRedirect() {
      const ts = parseInt(sessionStorage.getItem(REDIRECT_KEY) || '0', 10);
      if (!ts) return true;
      return (Date.now() - ts) > REDIRECT_TTL_MS;
    }

    console.log('‚úÖ –°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
  </script>
</body>
</html>
