<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ü–∞–Ω–µ–ª—å —Ç—å—é—Ç–æ—Ä–∞ - Hanna English & French</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/tutor.css">
</head>
<body>
  <div class="container">
    <!-- –ü–∞–Ω–µ–ª—å —Ç—å—é—Ç–æ—Ä–∞ -->
    <div id="tutorPanel">
      <div class="tutor-header">
        <h1><span class="emoji">üë©‚Äçüè´</span>–ü–∞–Ω–µ–ª—å —Ç—å—é—Ç–æ—Ä–∞</h1>
        <div class="tutor-info" id="tutorInfo">
          –ó–∞–≥—Ä—É–∑–∫–∞...
        </div>
      </div>

      <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—å—é—Ç–æ—Ä–∞ -->
      <div class="stats-grid" id="statsGrid">
        <div class="stat-card">
          <div class="stat-number" id="myStudents">0</div>
          <div class="stat-label">–ú–æ–∏ —Å—Ç—É–¥–µ–Ω—Ç—ã</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="todayLessons">0</div>
          <div class="stat-label">–°–µ–≥–æ–¥–Ω—è —É—Ä–æ–∫–æ–≤</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="weekLessons">0</div>
          <div class="stat-label">–ù–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="monthEarnings">0‚ÇΩ</div>
          <div class="stat-label">–î–æ—Ö–æ–¥ –∑–∞ –º–µ—Å—è—Ü</div>
        </div>
      </div>

      <!-- –ë–ª–∏–∂–∞–π—à–∏–µ —É—Ä–æ–∫–∏ -->
      <div class="lessons-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="emoji">üìö</span>–ë–ª–∏–∂–∞–π—à–∏–µ —É—Ä–æ–∫–∏
          </h2>
          <div class="lessons-filter">
            <select id="lessonsFilter" onchange="filterLessons()">
              <option value="today">–°–µ–≥–æ–¥–Ω—è</option>
              <option value="tomorrow">–ó–∞–≤—Ç—Ä–∞</option>
              <option value="week">–≠—Ç–∞ –Ω–µ–¥–µ–ª—è</option>
              <option value="all">–í—Å–µ</option>
            </select>
          </div>
        </div>
        
        <div id="lessonsContent">
          <div class="loading">
            <span class="loading-spinner"></span>
            –ó–∞–≥—Ä—É–∑–∫–∞ —É—Ä–æ–∫–æ–≤...
          </div>
        </div>
      </div>

      <!-- –ú–æ–∏ —Å—Ç—É–¥–µ–Ω—Ç—ã -->
      <div class="students-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="emoji">üßë‚Äçüéì</span>–ú–æ–∏ —Å—Ç—É–¥–µ–Ω—Ç—ã
          </h2>
          <button class="refresh-btn" onclick="loadMyStudents()">
            <span class="emoji">üîÑ</span>–û–±–Ω–æ–≤–∏—Ç—å
          </button>
        </div>
        
        <div class="table-container">
          <div id="studentsContent">
            <div class="loading">
              <span class="loading-spinner"></span>
              –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤...
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ç—å—é—Ç–æ—Ä–∞
    const TUTOR_CONFIG = {
      tutorId: 'hanna_teaches', // ID —Ç—å—é—Ç–æ—Ä–∞
      tutorName: '–ê–Ω–Ω–∞',
      tutorLanguages: ['English', 'French'],
      hourlyRate: 2000 // —Ä—É–±/—á–∞—Å
    };
    
    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    let currentTutor = null;
    let studentsData = [];
    let lessonsData = [];
    let isAuthenticated = false;

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', function() {
      console.log('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–Ω–µ–ª–∏ —Ç—å—é—Ç–æ—Ä–∞...');
      
      // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram WebApp (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
      if (window.Telegram?.WebApp) {
        console.log('üì± Telegram WebApp –æ–±–Ω–∞—Ä—É–∂–µ–Ω');
        window.Telegram.WebApp.ready();
        window.Telegram.WebApp.expand();
      }
      
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç—å—é—Ç–æ—Ä–∞
      currentTutor = {
        id: TUTOR_CONFIG.tutorId,
        name: TUTOR_CONFIG.tutorName,
        languages: TUTOR_CONFIG.tutorLanguages,
        rate: TUTOR_CONFIG.hourlyRate,
        sessionTime: Date.now()
      };
      
      showTutorPanel();
      loadInitialData();
    });

    // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–∏ —Ç—å—é—Ç–æ—Ä–∞
    function showTutorPanel() {
      console.log('‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å —Ç—å—é—Ç–æ—Ä–∞');
      
      const tutorPanel = document.getElementById('tutorPanel');
      if (tutorPanel) {
        tutorPanel.style.display = 'block';
      }
      
      isAuthenticated = true;
      
      // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç—å—é—Ç–æ—Ä–µ
      const tutorInfo = document.getElementById('tutorInfo');
      if (tutorInfo) {
        tutorInfo.innerHTML = `
          ${currentTutor.name} ‚Ä¢ ${currentTutor.languages.join(' & ')}
          <small style="display: block; opacity: 0.9;">
            –°—Ç–∞–≤–∫–∞: ${currentTutor.rate}‚ÇΩ/—á–∞—Å
          </small>
        `;
      }
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    async function loadInitialData() {
      console.log('üìä –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ç—å—é—Ç–æ—Ä–∞...');
      
      setTimeout(async () => {
        await loadMyStudents();
        await loadUpcomingLessons();
      }, 100);
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Ç—å—é—Ç–æ—Ä–∞
    async function loadMyStudents() {
      console.log('üë• –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Ç—å—é—Ç–æ—Ä–∞...');
      const studentsContent = document.getElementById('studentsContent');
      
      if (!studentsContent) {
        console.error('‚ùå –≠–ª–µ–º–µ–Ω—Ç studentsContent –Ω–µ –Ω–∞–π–¥–µ–Ω');
        return;
      }

      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
      studentsContent.innerHTML = `
        <div class="loading">
          <span class="loading-spinner"></span>
          –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∞—à–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤...
        </div>
      `;

      try {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ—Ç –∂–µ API, –Ω–æ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Ç—å—é—Ç–æ—Ä—É
        const response = await fetch('/api/students', {
          headers: { 'x-telegram-id': '618647337' } // –ü–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∞–¥–º–∏–Ω—Å–∫–∏–π –¥–æ—Å—Ç—É–ø
        });

        if (!response.ok) {
          throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }

        const data = await response.json();
        console.log('‚úÖ –°—Ç—É–¥–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', data.students?.length || 0);
        
        if (!data.students) {
          throw new Error('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç API: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ students');
        }
        
        // –§–∏–ª—å—Ç—Ä—É–µ–º —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç—å—é—Ç–æ—Ä–∞ (–ø–æ–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ—Ö)
        studentsData = data.students.filter(student => {
          // –í –±—É–¥—É—â–µ–º –∑–¥–µ—Å—å –±—É–¥–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ tutor_id
          return true;
        });
        
        renderStudentsTable(studentsData);
        updateTutorStats(studentsData);
        
      } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤:', error);
        studentsContent.innerHTML = `
          <div class="error">
            <h3>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h3>
            <p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤: ${error.message}</p>
            <button onclick="loadMyStudents()" class="btn-primary">
              –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
            </button>
          </div>
        `;
      }
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö —É—Ä–æ–∫–æ–≤
    async function loadUpcomingLessons() {
      console.log('üìö –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö —É—Ä–æ–∫–æ–≤...');
      const lessonsContent = document.getElementById('lessonsContent');
      
      if (!lessonsContent) return;

      lessonsContent.innerHTML = `
        <div class="loading">
          <span class="loading-spinner"></span>
          –ó–∞–≥—Ä—É–∑–∫–∞ —É—Ä–æ–∫–æ–≤...
        </div>
      `;

      try {
        // –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
        // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç API –∑–∞–ø—Ä–æ—Å
        const mockLessons = []; // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
        lessonsData = mockLessons;
        renderLessonsList(mockLessons);
        
      } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —É—Ä–æ–∫–æ–≤:', error);
        lessonsContent.innerHTML = `
          <div class="error">
            <h3>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h3>
            <p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —É—Ä–æ–∫–∏: ${error.message}</p>
          </div>
        `;
      }
    }

    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö —É—Ä–æ–∫–æ–≤
    function generateMockLessons() {
      const lessons = [];
      const today = new Date();
      
      for (let i = 0; i < 10; i++) {
        const lessonDate = new Date(today);
        lessonDate.setDate(today.getDate() + i);
        lessonDate.setHours(9 + (i % 8), (i % 2) * 30, 0, 0);
        
        const students = ['–ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞', '–ü–µ—Ç—Ä –°–∏–¥–æ—Ä–æ–≤', '–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞', '–ò–≤–∞–Ω –ö–æ–∑–ª–æ–≤'];
        const languages = ['English', 'French'];
        const types = ['–†–∞–∑–≥–æ–≤–æ—Ä–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞', '–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞', '–°–ª–æ–≤–∞—Ä—å', '–ß—Ç–µ–Ω–∏–µ'];
        
        lessons.push({
          id: `lesson_${i + 1}`,
          student: students[i % students.length],
          date: lessonDate,
          language: languages[i % languages.length],
          type: types[i % types.length],
          duration: 60,
          status: i === 0 ? 'upcoming' : 'scheduled'
        });
      }
      
      return lessons;
    }

    // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–∞–±–ª–∏—Ü—ã —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
    function renderStudentsTable(students) {
      const studentsContent = document.getElementById('studentsContent');
      
      if (students.length === 0) {
        studentsContent.innerHTML = `
          <div class="empty-state">
            <span class="emoji" style="font-size: 3em;">üë•</span>
            <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</p>
            <button onclick="createNewStudent()" class="btn-primary">
              <span class="emoji">‚ûï</span>–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞
            </button>
          </div>
        `;
        return;
      }

      studentsContent.innerHTML = `
        <table>
          <thead>
            <tr>
              <th>–°—Ç—É–¥–µ–Ω—Ç</th>
              <th>Telegram</th>
              <th>–Ø–∑—ã–∫</th>
              <th>–ó–∞–Ω—è—Ç–∏—è –±—Ä–æ–Ω–∏—Ä—É—é—Ç—Å—è</th>
              <th>–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫</th>
              <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
          </thead>
          <tbody>
            ${students.map(student => `
              <tr>
                <td>
                  <div class="student-info">
                    <div class="student-name">
                      <a href="student.html?name=${encodeURIComponent(student.name)}">
                        ${student.name}
                      </a>
                    </div>
                    ${student.email ? `
                      <div class="student-email">
                        ${student.email}
                      </div>
                    ` : ''}
                  </div>
                </td>
                <td class="telegram-column">
                  ${student.username ? `
                    <a href="https://t.me/${student.username}" target="_blank" class="telegram-link">
                      @${student.username}
                    </a>
                  ` : '<span class="no-telegram">‚Äî</span>'}
                </td>
                <td>
                  <span class="language-badge">
                    ${student.language || '‚Äî'}
                  </span>
                  ${student.frequency ? `<br><small class="frequency-info">${student.frequency}x –≤ –Ω–µ–¥–µ–ª—é</small>` : ''}
                </td>
                <td>
                  <div class="booking-mode-info">
                    <span class="booking-badge ${student.booking_mode === 'by_student' ? 'student' : 'teacher'}">
                      ${student.booking_mode === 'by_student' ? 'üë§ –°—Ç—É–¥–µ–Ω—Ç–æ–º' : 'üë©‚Äçüè´ –¢—å—é—Ç–æ—Ä–æ–º'}
                    </span>
                    ${student.booking_mode !== 'by_student' && (student.preferred_time || (student.preferred_days && student.preferred_days.length > 0)) ? `
                      <small class="booking-details">
                        ${student.preferred_days && student.preferred_days.length > 0 ? student.preferred_days.join(', ') : ''}
                        ${student.preferred_time ? ` –≤ ${student.preferred_time}` : ''}
                      </small>
                    ` : ''}
                  </div>
                </td>
                <td>
                  ${student.next_session 
                    ? `<div class="next-lesson">
                         <a href="lesson.html?session_id=${student.next_session_id}" class="lesson-link">
                           ${student.next_session}
                         </a>
                         <small class="lesson-status">${student.status || '–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω'}</small>
                       </div>`
                    : '<span class="no-lesson">–ù–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</span>'
                  }
                </td>
                <td>
                  <div class="action-buttons">
                    <button class="action-btn" onclick="scheduleLesson('${student.name}')" title="–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —É—Ä–æ–∫">
                      üìÖ
                    </button>
                    <button class="action-btn" onclick="viewProgress('${student.name}')" title="–ü—Ä–æ–≥—Ä–µ—Å—Å">
                      üìä
                    </button>
                  </div>
                </td>
              </tr>
            `).join('')}
          </tbody>
        </table>
      `;
    }

    // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞ —É—Ä–æ–∫–æ–≤
    function renderLessonsList(lessons) {
      const lessonsContent = document.getElementById('lessonsContent');
      
      if (lessons.length === 0) {
        lessonsContent.innerHTML = `
          <div class="empty-state">
            <span class="emoji" style="font-size: 3em;">üìÖ</span>
            <p>–ó–∞–Ω—è—Ç–∏—è –Ω–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã</p>
            <p style="font-size: 12px; opacity: 0.7;">–ó–∞–ø–ª–∞–Ω–∏—Ä—É–π—Ç–µ —É—Ä–æ–∫–∏ –¥–ª—è —Å–≤–æ–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</p>
          </div>
        `;
        return;
      }

      lessonsContent.innerHTML = `
        <div class="lessons-grid">
          ${lessons.slice(0, 6).map(lesson => `
            <div class="lesson-card ${lesson.status}">
              <div class="lesson-header">
                <span class="lesson-time">
                  ${lesson.date.toLocaleDateString('ru-RU', { 
                    day: '2-digit', 
                    month: '2-digit',
                    weekday: 'short'
                  })}
                  ${lesson.date.toLocaleTimeString('ru-RU', { 
                    hour: '2-digit', 
                    minute: '2-digit'
                  })}
                </span>
                <span class="lesson-duration">${lesson.duration} –º–∏–Ω</span>
              </div>
              
              <div class="lesson-body">
                <h4 class="lesson-student">${lesson.student}</h4>
                <div class="lesson-details">
                  <span class="lesson-language">${lesson.language}</span>
                  <span class="lesson-type">${lesson.type}</span>
                </div>
              </div>
              
              <div class="lesson-actions">
                <button class="lesson-btn primary" onclick="startLesson('${lesson.id}')">
                  ${lesson.status === 'upcoming' ? '‚ñ∂Ô∏è –ù–∞—á–∞—Ç—å' : 'üìù –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å'}
                </button>
                <button class="lesson-btn secondary" onclick="editLesson('${lesson.id}')">
                  ‚úèÔ∏è
                </button>
              </div>
            </div>
          `).join('')}
        </div>
        
        ${lessons.length > 6 ? `
          <div class="show-more">
            <button onclick="showAllLessons()" class="btn-secondary">
              –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —É—Ä–æ–∫–∏ (${lessons.length})
            </button>
          </div>
        ` : ''}
      `;
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ç—å—é—Ç–æ—Ä–∞
    function updateTutorStats(students) {
      console.log('üìä –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ç—å—é—Ç–æ—Ä–∞');
      
      const myStudents = students.length;
      const todayLessons = lessonsData.filter(l => {
        const today = new Date();
        return l.date.toDateString() === today.toDateString();
      }).length;
      
      const weekLessons = lessonsData.filter(l => {
        const today = new Date();
        const weekStart = new Date(today.setDate(today.getDate() - today.getDay()));
        const weekEnd = new Date(weekStart);
        weekEnd.setDate(weekStart.getDate() + 6);
        return l.date >= weekStart && l.date <= weekEnd;
      }).length;
      
      const monthEarnings = weekLessons * 4 * currentTutor.rate; // –ü—Ä–∏–º–µ—Ä–Ω—ã–π —Ä–∞—Å—á–µ—Ç
      
      // –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
      const myStudentsEl = document.getElementById('myStudents');
      const todayLessonsEl = document.getElementById('todayLessons');
      const weekLessonsEl = document.getElementById('weekLessons');
      const monthEarningsEl = document.getElementById('monthEarnings');
      
      if (myStudentsEl) myStudentsEl.textContent = myStudents;
      if (todayLessonsEl) todayLessonsEl.textContent = todayLessons;
      if (weekLessonsEl) weekLessonsEl.textContent = weekLessons;
      if (monthEarningsEl) monthEarningsEl.textContent = `${monthEarnings.toLocaleString()}‚ÇΩ`;
    }

    // –§—É–Ω–∫—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π
    function createNewStudent() {
      alert('üîß –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ');
    }

    function scheduleLesson(studentName) {
      alert(`üîß –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞ –¥–ª—è ${studentName} –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ`);
    }

    function viewProgress(studentName) {
      window.location.href = `student.html?name=${encodeURIComponent(studentName)}`;
    }

    function filterLessons() {
      const filter = document.getElementById('lessonsFilter').value;
      console.log('–§–∏–ª—å—Ç—Ä —É—Ä–æ–∫–æ–≤:', filter);
      // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
    }

    function startLesson(lessonId) {
      alert(`üîß –ù–∞—á–∞–ª–æ —É—Ä–æ–∫–∞ ${lessonId} –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ`);
    }

    function editLesson(lessonId) {
      alert(`üîß –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞ ${lessonId} –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ`);
    }

    function showAllLessons() {
      alert('üîß –ü–æ–∫–∞–∑ –≤—Å–µ—Ö —É—Ä–æ–∫–æ–≤ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ');
    }

    console.log('‚úÖ –ü–∞–Ω–µ–ª—å —Ç—å—é—Ç–æ—Ä–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
  </script>
</body>
</html>
